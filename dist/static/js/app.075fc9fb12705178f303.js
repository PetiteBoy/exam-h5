webpackJsonp([1],{"5P/g":function(t,e){},"69FY":function(t,e){},"6vWK":function(t,e){},DEN3:function(t,e){t.exports={service:{host:"http://47.95.250.247/exam-api"}}},MfRY:function(t,e){},NDg1:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},a,!1,function(t){n("6vWK")},null,null).exports,o=n("/ocq");n("//Fk");var r=n("Zrlr"),c=n.n(r),u=n("wxAW"),d=n.n(u),l=n("mtWM"),v=n.n(l),m=n("DEN3"),p=n.n(m),h=new(function(){function t(){c()(this,t)}return d()(t,[{key:"login",value:function(t){return v()({url:p.a.service.host+"/user/login",method:"post",params:t})}},{key:"requestUrl",value:function(t){var e,n=""+p.a.service.host+t.url,s=t.method?t.method:"POST",a=t.data?t.data:"";return v()({url:n,method:s,data:a,headers:{authKey:(e="authKey",sessionStorage.getItem(e))}})}}]),t}()),f={name:"Login",data:function(){return{loginData:{username:"130185199003241111",password:"123"},passwordStatus:!1}},methods:{login:function(){var t=this;this.loginData.username&&this.loginData.password?h.login(this.loginData).then(function(e){var n,s;n="authKey",s=e.data.data.authKey,sessionStorage.setItem(n,s),t.$router.push("/home")}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})}):this.$message({showClose:!0,message:"请输入账号密码",type:"warning"})},passwordFouce:function(){this.passwordStatus=!0},passwordBlur:function(){this.passwordStatus=!1}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"login"},[n("div",{staticClass:"loginform"},[n("div",{class:{password:t.passwordStatus},attrs:{id:"owl-login"}},[n("div",{staticClass:"hand"}),t._v(" "),n("div",{staticClass:"hand hand-r"}),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"pad"},[n("div",{staticClass:"control-group"},[n("div",{staticClass:"controls"},[n("el-input",{attrs:{placeholder:"请输入账号",id:"username",autofocus:""},model:{value:t.loginData.username,callback:function(e){t.$set(t.loginData,"username",e)},expression:"loginData.username"}})],1)]),t._v(" "),n("div",{staticClass:"control-group"},[n("div",{staticClass:"controls"},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码",id:"password"},on:{focus:function(e){t.passwordFouce()},blur:function(e){t.passwordBlur()}},model:{value:t.loginData.password,callback:function(e){t.$set(t.loginData,"password",e)},expression:"loginData.password"}})],1)]),t._v(" "),t._m(1)]),t._v(" "),n("div",{staticClass:"form-actions"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.login()}}},[t._v("登录")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"arms"},[e("div",{staticClass:"arm"}),this._v(" "),e("div",{staticClass:"arm arm-r"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control-group"},[e("div",{staticClass:"controls"},[e("div",{staticClass:"message"},[this._v("账号或密码错误")])])])}]};var g=n("VU/8")(f,_,!1,function(t){n("Z3vv")},"data-v-29750e53",null).exports,w={name:"Home",data:function(){return{name:"test",notice:"公告"}},mounted:function(){},methods:{navigation:function(t){this.$router.push(t)},logout:function(){var t;t="authKey",sessionStorage.removeItem(t),this.$router.push("/")}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("span",[t._v(t._s(t.name))]),t._v(" "),n("span",{on:{click:function(e){t.logout()}}},[t._v("退出")])]),t._v(" "),n("div",{staticClass:"notice"},[t._v(t._s(t.notice))]),t._v(" "),n("div",{staticClass:"tools"},[n("el-button",{attrs:{span:8,type:"danger"}},[t._v("满分教育(敬请期待)")]),t._v(" "),n("el-button",{attrs:{type:"success"},on:{click:function(e){t.navigation("/Examine/Index")}}},[t._v("审验教育")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.navigation("/User/Admin")}}},[t._v("个人信息")])],1)])},staticRenderFns:[]};var y=n("VU/8")(w,C,!1,function(t){n("xIDC")},"data-v-1fcfe16a",null).exports,I={name:"Admin",data:function(){return{userInfo:[{k:"手机号码",v:""},{k:"准驾车型",v:""},{k:"驾驶证号",v:""},{k:"驾驶证有效期",v:""},{k:"证件类型",v:""},{k:"证件号码",v:""},{k:"注册时间",v:""}]}},mounted:function(){var t=this;h.requestUrl({url:"/user/info"}).then(function(e){var n=e.data;t.userInfo[0].v=n.data.phone,t.userInfo[1].v=n.data.licenseType,t.userInfo[2].v=n.data.licenseNo,t.userInfo[3].v=t.time(n.data.licenseBeginDate)+" 至 "+t.time(n.data.licenseEndDate),t.userInfo[4].v=n.data.idType,t.userInfo[5].v=n.data.idNo,t.userInfo[6].v=t.time(n.data.createTime)}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})})},methods:{time:function(t){var e=new Date;return e.setTime(t),e.toLocaleDateString()}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"title"},[t._v("个人信息")]),t._v(" "),t._l(t.userInfo,function(e,s){return n("el-row",{key:s,attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[t._v(t._s(e.k))]),t._v(" "),n("el-col",{attrs:{span:18}},[t._v(t._s(e.v))])],1)})],2)},staticRenderFns:[]};var x=n("VU/8")(I,k,!1,function(t){n("TDXz")},"data-v-ab9139a4",null).exports,$={name:"Index",methods:{secondToDate:function(t){var e=Number(t),n=parseInt(e/3600)>=10?parseInt(e/3600):"0"+parseInt(e/3600),s=parseInt(e%3600/60)>=10?parseInt(e%3600/60):"0"+parseInt(e%3600/60),a=parseInt(e%60)>=10?parseInt(e%60):"0"+parseInt(e%60);return{date:n+":"+s+":"+a,hour:n,minute:s,second:a}},record:function(t){var e=this,n=t,s=n.videoId,a=parseInt(n.videoTm),i=n.isCompleted;h.requestUrl({url:"/video/record",data:{videoId:s,completedDuration:a,isCompleted:i}}).then(function(t){var e=t.data;console.log(e)}).catch(function(t){e.$message({showClose:!0,message:t,type:"warning"})})}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index-container"},[e("router-view")],1)},staticRenderFns:[]};var D=n("VU/8")($,b,!1,function(t){n("MfRY")},"data-v-68077411",null).exports,E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"notice"},[n("div",[t._v(t._s(t.title))]),t._v(" "),n("div",[t._v(t._s(t.content))])]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.navigation()}}},[t._v("开始学习")])],1)},staticRenderFns:[]};var T=n("VU/8")({name:"Notice",data:function(){return{title:"公告，你猜",content:"就不猜"}},methods:{navigation:function(){this.$router.push("/Examine/Video/List")}}},E,!1,function(t){n("69FY")},"data-v-5a44ee2b",null).exports,q=n("BO1k"),N=n.n(q),U={name:"VideoList",data:function(){return{tips:"需完成下列任务才可进行答题",buttonType:1,buttonContent:"进行试题测验",learnDuration:"",completeDuration:"",taskList:"",list:""}},mounted:function(){var t=this;h.requestUrl({url:"/video/learn-info",method:"get"}).then(function(e){var n=e.data;t.learnDuration=t.$parent.secondToDate(n.data.learnDuration).hour,t.completeDuration=t.$parent.secondToDate(n.data.completeDuration).date}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})}),h.requestUrl({url:"/video/config/check/state",method:"get"}).then(function(e){var n=t,s=e.data.data;s.map(function(t,e){t.learnNum?t.learnNum===t.completeNum?t.status=1:(t.status=0,n.buttonType=0):t.status=-1}),t.taskList=s,console.log(s)}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})}),h.requestUrl({url:"/category/video/all",method:"get"}).then(function(e){var n=e.data;"0x5002"===n.status&&t.$router.push("/");var s=!0,a=!1,i=void 0;try{for(var o,r=N()(n.data);!(s=(o=r.next()).done);s=!0){var c=o.value;for(var u in c.videos){var d=t.$parent.secondToDate(c.videos[u].duration);c.videos[u].date=d.date}}}catch(t){a=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(a)throw i}}t.list=n.data}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})})},methods:{navigation:function(t){"examine"!==t?"forbid"!==t&&this.$router.push("Info?id="+t):this.$router.push("/Examine/Examine/Notice")}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"task"},[n("div",{staticClass:"taskHeader"},[n("div",[n("div",[t._v("学习要求")]),t._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.tips,placement:"right"}},[n("el-button",{attrs:{type:t.buttonType?"primary":"info"},on:{click:function(e){t.navigation(t.buttonType?"examine":"forbid")}}},[t._v(t._s(t.buttonContent)+"\n          ")])],1)],1),t._v(" "),n("div",[n("div",[t._v("今日至少学习"+t._s(t.learnDuration)+"小时，目前已经学习"+t._s(t.completeDuration))]),t._v(" "),n("div",[t._v("提示：请务必保证学习时长大于3小时，否则无法生成相应学习记录")])])]),t._v(" "),n("div",{staticClass:"taskList"},t._l(t.taskList,function(e){return n("el-row",{key:e.categoryId,attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[t._v(t._s(e.categoryName)+"至少完整学习"+t._s(e.learnNum)+"个视频")]),t._v(" "),n("el-col",{class:1===e.status?"success":0===e.status?"danger":"info",attrs:{span:3}},[t._v(t._s(1===e.status?"已完成":0===e.status?"未完成":"不要求")+"\n        ")])],1)}))]),t._v(" "),n("div",{staticClass:"list"},t._l(t.list,function(e){return n("div",{key:e.id},[n("div",{staticClass:"listTitle"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.videos,function(s,a){return a%4==0?n("el-row",{key:s.id,staticClass:"listContent",attrs:{gutter:20}},t._l([0,1,2,3],function(s){return e.videos[s+a]?n("el-col",{key:s,attrs:{span:6}},[n("img",{attrs:{src:e.videos[s+a].thumbUrl}}),t._v(" "),n("div",{staticClass:"listTips r",style:e.videos[s+a].isCompleted?"":"background-color: #F56C6C;"},[t._v(t._s(e.videos[s+a].isCompleted?"已完成":"未完成"))]),t._v(" "),n("el-row",{staticClass:"listTools",attrs:{gutter:10}},[n("el-col",{attrs:{span:14}},[n("div",{staticClass:"listInfo"},[n("div",{staticClass:"overwrap"},[t._v(t._s(e.videos[s+a].id)+". "+t._s(e.videos[s+a].name))]),t._v(" "),n("div",{staticClass:"overwrap"},[t._v(t._s(e.videos[s+a].date))])])]),t._v(" "),n("el-col",{attrs:{span:10}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"mini"},on:{click:function(n){t.navigation(e.videos[s+a].id)}}},[t._v("\n                "+t._s(e.videos[s+a].completedDuration>0&&e.videos[s+a].duration!==e.videos[s+a].completedDuration?"继续观看":"观看")+"\n              ")])],1)],1)],1):t._e()})):t._e()})],2)}))])},staticRenderFns:[]};var A=n("VU/8")(U,R,!1,function(t){n("bm10")},"data-v-6993080b",null).exports,V={name:"VideoInfo",data:function(){return{id:1,media:!0,currentTime:4,mediaVolume:70,mediaInfo:"",recordInterval:""}},mounted:function(){this.getId(),this.record();var t=this,e=document.getElementById("videoInfo");e.currentTime=this.currentTime,e.addEventListener("ended",function(){t.$parent.record({videoId:t.id,videoTm:e.currentTime,isCompleted:!0}),t.$message({showClose:!1,message:"视频已看完，3秒后返回",type:"success"}),setTimeout(function(){window.history.back()},3e3)})},methods:{getId:function(){var t=this;this.id=this.$route.query.id,h.requestUrl({url:"/video/find-by-id?id="+this.$route.query.id,method:"get"}).then(function(e){var n=e.data;console.log(n),t.mediaInfo=n.data,t.currentTime=n.data.completedDuration||0}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})})},mediaTools:function(t){var e=document.getElementById("videoInfo");console.log(t),"tools"===t?(this.media?e.play():e.pause(),this.media=!this.media):"full"===t?e.webkitRequestFullScreen():e.volume=t/100,this.$parent.record({videoId:this.id,videoTm:e.currentTime,isCompleted:!1})},record:function(){var t=this,e=document.getElementById("videoInfo");this.recordInterval=setInterval(function(){t.$parent.record({videoId:t.id,videoTm:e.currentTime,isCompleted:!1})},6e5)}},beforeDestroy:function(){clearInterval(this.recordInterval)}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("video",{staticClass:"r",attrs:{id:"video"}}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.mediaInfo.categoryName))]),t._v(" "),n("video",{attrs:{id:"videoInfo",src:t.mediaInfo.url,width:"100%",height:"640"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.mediaTools("tools")}}},[t._v(t._s(t.media?"播放":"暂停"))]),t._v(" "),n("el-button",{staticClass:"r",attrs:{type:"success"},on:{click:function(e){t.mediaTools("full")}}},[t._v("全屏")]),t._v(" "),n("div",{staticClass:"r ovh"},[n("div",{staticClass:"l"},[t._v("音量")]),t._v(" "),n("div",{staticClass:"block r"},[n("el-slider",{on:{change:t.mediaTools},model:{value:t.mediaVolume,callback:function(e){t.mediaVolume=e},expression:"mediaVolume"}})],1)])],1)},staticRenderFns:[]};var L=n("VU/8")(V,F,!1,function(t){n("NDg1")},"data-v-5489ffec",null).exports,B={name:"Notice",data:function(){return{title:"公告，你猜",content:"就不猜"}},methods:{navigation:function(){var t=this;h.requestUrl({url:"/question/init",method:"get"}).then(function(e){var n=e.data;console.log(n),t.$router.push("Examine?totalNum="+n.data.totalNum+"&period="+n.data.period)}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})})}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"notice"},[n("div",[t._v(t._s(t.title))]),t._v(" "),n("div",[t._v(t._s(t.content))])]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.navigation()}}},[t._v("开始测试")])],1)},staticRenderFns:[]};var W=n("VU/8")(B,S,!1,function(t){n("hg3Z")},"data-v-0824189a",null).exports,M={name:"Examine",data:function(){return{finish:!1,questionNum:0,total:100,time:"00:45:00",timestamp:"",timestampOld:"",img:"",question:"",optionsArr:"",radio:"",answer:1,explains:"",userAnswers:"",answerRight:0,answerWrong:0,countDownInterval:""}},mounted:function(){this.total=this.$route.query.totalNum,this.timestampOld=60*this.$route.query.period,this.timestamp=60*this.$route.query.period;var t=this;this.countDownInterval=setInterval(function(){t.timestamp--,t.time=t.$parent.secondToDate(t.timestamp).date,t.timestamp||t.record()},1e3),this.nextQuestion()},methods:{nextQuestion:function(){var t=this;""===this.userAnswers&&this.questionNum||(this.userAnswers="",this.finish=!1,this.questionNum++,h.requestUrl({url:"/question/next",method:"get"}).then(function(e){var n=e.data;console.log(n),t.question=n.data.question,t.img=n.data.imgUrlToken;var s=[];n.data.item1&&s.push({k:"A",v:"A: "+n.data.item1}),n.data.item2&&s.push({k:"B",v:"B: "+n.data.item2}),n.data.item3&&s.push({k:"C",v:"C: "+n.data.item3}),n.data.item4&&s.push({k:"D",v:"D: "+n.data.item4}),t.optionsArr=s,t.answer=n.data.answer,t.explains=n.data.explains}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})}))},record:function(){var t=this,e=this.timestampOld-this.timestamp;clearInterval(this.countDownInterval),h.requestUrl({url:"/question/record",data:{correctNum:this.answerRight,wrongNum:this.answerWrong,costTime:e}}).then(function(n){var s=n.data;console.log(s),e=t.$parent.secondToDate(e).date,t.$router.push("Result?correctNum="+t.answerRight+"&wrongNum="+t.answerWrong+"&costTime="+e)}).catch(function(e){t.$message({showClose:!0,message:e,type:"warning"})})},answers:function(t){this.finish=!0,this.userAnswers=t,this.userAnswers===this.answer?this.answerRight++:this.answerWrong++},webRtc:function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var t=document.getElementById("video");navigator.getUserMedia({video:!0},function(e){t.src=window.URL.createObjectURL(e),t.play()},function(t){alert(t.name||t)})},bindCapture:function(){var t=document.getElementById("video"),e=t.videoWidth,n=t.videoHeight;if(e&&n){var s=document.getElementById("canvas");s.width=e,s.height=n,document.getElementById("capture").addEventListener("click",function(){console.log(t),s.getContext("2d").drawImage(t,0,0,e,n)},!1)}else setTimeout(this.bindCapture,200)}}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("video",{staticClass:"r",attrs:{id:"video"}}),t._v(" "),n("div",{staticClass:"title"},[t._v("第"+t._s(t.questionNum)+"题/题目总数"+t._s(t.total)+" 倒计时 "+t._s(t.time))]),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:t.img?18:24}},[t._v(t._s(t.question))]),t._v(" "),t.img?n("el-col",{attrs:{span:6}},[n("img",{attrs:{src:t.img}})]):t._e()],1),t._v(" "),n("el-radio-group",{attrs:{disabled:t.finish},on:{change:t.answers},model:{value:t.userAnswers,callback:function(e){t.userAnswers=e},expression:"userAnswers"}},t._l(t.optionsArr,function(e){return n("el-radio",{key:e.k,staticClass:"radioItem",attrs:{label:e.k}},[t._v(t._s(e.v))])})),t._v(" "),t.finish?n("div",[n("div",{class:t.userAnswers===t.answer?"success":"danger"},[t._v("您的答案："+t._s(t.userAnswers)+" 正确答案："+t._s(t.answer))]),t._v(" "),n("div",{staticClass:"answerContent"},[t._v(t._s(t.explains))])]):t._e(),t._v(" "),n("el-button",{attrs:{type:t.finish?"primary":"info"},on:{click:function(e){t.total>t.questionNum?t.nextQuestion():t.record()}}},[t._v(t._s(t.total>t.questionNum?"下一题":"完成"))])],1)},staticRenderFns:[]};var K=n("VU/8")(M,H,!1,function(t){n("5P/g")},"data-v-5d512aec",null).exports,O={name:"Result",data:function(){return{list:[{k:"考试用时",v:"00:12:34"},{k:"答对",v:""},{k:"答错",v:""}]}},mounted:function(){this.list[0].v=this.$route.query.costTime,this.list[1].v=this.$route.query.correctNum+"题",this.list[2].v=this.$route.query.wrongNum+"题",window.addEventListener("popstate",function(){window.history.forward(1)},!1)}},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"result"},[n("div",[t._v("考试结果")]),t._v(" "),t._l(t.list,function(e,s){return n("el-row",{key:s,attrs:{gutter:20}},[n("el-col",{attrs:{offset:9,span:3}},[t._v(t._s(e.k))]),t._v(" "),n("el-col",{attrs:{span:3}},[t._v(t._s(e.v))])],1)}),t._v(" "),n("el-button",{attrs:{type:"primary"}},[t._v("交卷")])],2)])},staticRenderFns:[]};var Z=n("VU/8")(O,z,!1,function(t){n("v63H")},"data-v-254f8acc",null).exports;s.default.use(o.a);var P=new o.a({routes:[{path:"/",component:g},{path:"/Login",component:g},{path:"/Home",component:y},{path:"/User/Admin",component:x},{path:"/Examine/Index",component:D,children:[{path:"/",component:T},{path:"/Examine/Video/List",component:A},{path:"/Examine/Video/Info",component:L},{path:"/Examine/Examine/Notice",component:W},{path:"/Examine/Examine/Examine",component:K},{path:"/Examine/Examine/Result",component:Z}]}]}),Y=n("zL8q"),Q=n.n(Y);n("tvR6");s.default.use(Q.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:P,components:{App:i},template:"<App/>"})},TDXz:function(t,e){},Z3vv:function(t,e){},bm10:function(t,e){},hg3Z:function(t,e){},tvR6:function(t,e){},v63H:function(t,e){},xIDC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.075fc9fb12705178f303.js.map